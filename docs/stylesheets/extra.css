/* PRISM Documentation - Conservative Fix for Material Theme */

/* ============================================
   Variables
   ============================================ */
:root {
  /* Custom accent colors */
  --prism-accent: #667eea;
  --prism-accent-hover: #5a67d8;
  --prism-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  --prism-gradient-subtle: linear-gradient(135deg, rgba(102, 126, 234, 0.1) 0%, rgba(118, 75, 162, 0.1) 100%);
}

/* ============================================
   FIX: Bottom Content Cutoff
   ============================================ */

/* Add padding to content to prevent cutoff */
.md-content__inner {
  padding-bottom: 120px !important;
}

/* Add margin to last element */
.md-content__inner > :last-child {
  margin-bottom: 80px !important;
}

/* Ensure article has enough bottom space */
.md-content article {
  padding-bottom: 100px !important;
}

/* Make sure footer doesn't overlap */
.md-footer {
  margin-top: 50px !important;
  position: relative !important;
}

.md-footer-meta {
  position: relative !important;
}

/* Add spacer after main content */
.md-main::after {
  content: "";
  display: block;
  height: 100px;
  clear: both;
}

/* ============================================
   Navigation Sidebar Enhancements
   ============================================ */

/* Ensure sidebar has proper scrolling */
.md-sidebar__scrollwrap {
  padding-bottom: 100px !important;
}

/* Style navigation items */
.md-nav--primary .md-nav__link {
  border-radius: 6px;
  transition: all 0.2s ease;
  margin: 2px 4px;
}

.md-nav--primary .md-nav__link:hover {
  background: rgba(102, 126, 234, 0.08);
  color: var(--prism-accent);
}

/* Active navigation item */
.md-nav--primary .md-nav__link--active {
  background: var(--prism-gradient-subtle);
  color: var(--prism-accent);
  font-weight: 600;
  position: relative;
}

.md-nav--primary .md-nav__link--active::before {
  content: "";
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 3px;
  height: 60%;
  background: var(--prism-accent);
  border-radius: 0 3px 3px 0;
}

/* Nested navigation styling */
.md-nav--primary .md-nav__item--nested .md-nav {
  margin-left: 8px;
  padding-left: 8px;
  border-left: 1px solid rgba(0, 0, 0, 0.07);
}

[data-md-color-scheme="slate"] .md-nav--primary .md-nav__item--nested .md-nav {
  border-left-color: rgba(255, 255, 255, 0.07);
}

/* ============================================
   Typography Enhancements
   ============================================ */

/* Improve heading styles */
.md-typeset h1 {
  border-bottom: 2px solid #e1e4e8;
  padding-bottom: 12px;
  margin-bottom: 24px;
}

.md-typeset h2 {
  border-bottom: 1px solid #e1e4e8;
  padding-bottom: 8px;
  margin-top: 32px;
  margin-bottom: 16px;
}

[data-md-color-scheme="slate"] .md-typeset h1,
[data-md-color-scheme="slate"] .md-typeset h2 {
  border-bottom-color: rgba(255, 255, 255, 0.1);
}

/* Links */
.md-typeset a {
  color: var(--prism-accent);
  transition: opacity 0.2s;
}

.md-typeset a:hover {
  opacity: 0.8;
}

/* ============================================
   Code Blocks
   ============================================ */

.md-typeset pre {
  border: 1px solid #e1e4e8;
  border-radius: 6px;
}

[data-md-color-scheme="slate"] .md-typeset pre {
  border-color: rgba(255, 255, 255, 0.1);
}

/* ============================================
   Tables
   ============================================ */

.md-typeset table {
  border: 1px solid #e1e4e8;
  border-radius: 6px;
  overflow: hidden;
}

.md-typeset table th {
  background: #f6f8fa;
  font-weight: 600;
}

[data-md-color-scheme="slate"] .md-typeset table {
  border-color: rgba(255, 255, 255, 0.1);
}

[data-md-color-scheme="slate"] .md-typeset table th {
  background: rgba(255, 255, 255, 0.05);
}

/* ============================================
   Cards and Feature Grids
   ============================================ */

.feature-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
  margin: 24px 0;
}

.feature-card {
  padding: 20px;
  background: #f6f8fa;
  border-radius: 8px;
  border: 1px solid #e1e4e8;
  transition: all 0.3s ease;
}

[data-md-color-scheme="slate"] .feature-card {
  background: rgba(255, 255, 255, 0.05);
  border-color: rgba(255, 255, 255, 0.1);
}

.feature-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  border-color: var(--prism-accent);
}

.feature-card h3 {
  color: var(--prism-accent);
  margin: 0 0 12px;
  font-size: 18px;
}

.feature-card p {
  margin: 0;
  color: #586069;
  font-size: 14px;
  line-height: 1.6;
}

[data-md-color-scheme="slate"] .feature-card p {
  color: #adbac7;
}

/* ============================================
   Buttons
   ============================================ */

.md-button {
  border-radius: 6px;
  transition: all 0.2s;
}

.md-button--primary {
  background: var(--prism-accent);
  border-color: var(--prism-accent);
}

.md-button--primary:hover {
  background: var(--prism-accent-hover);
  border-color: var(--prism-accent-hover);
}

/* ============================================
   Admonitions
   ============================================ */

.admonition {
  border-radius: 6px;
  overflow: hidden;
  margin: 20px 0;
}

.admonition.note {
  border-color: #0969da;
  background: #ddf4ff;
}

.admonition.note .admonition-title {
  background: #b6e3ff;
  color: #0550ae;
}

.admonition.tip {
  border-color: #1a7f37;
  background: #dafbe1;
}

.admonition.tip .admonition-title {
  background: #aceebb;
  color: #0d5016;
}

.admonition.warning {
  border-color: #d1242f;
  background: #ffebe9;
}

.admonition.warning .admonition-title {
  background: #ffcecb;
  color: #a40e26;
}

/* ============================================
   Search Enhancement
   ============================================ */

.md-search__form {
  border-radius: 8px;
}

.md-search__input {
  border-radius: 8px;
}

/* ============================================
   Scrollbar
   ============================================ */

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: #f0f0f0;
}

::-webkit-scrollbar-thumb {
  background: #c0c0c0;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #a0a0a0;
}

[data-md-color-scheme="slate"] ::-webkit-scrollbar-track {
  background: #2d3748;
}

[data-md-color-scheme="slate"] ::-webkit-scrollbar-thumb {
  background: #606060;
}

/* ============================================
   CRITICAL FIX: Prevent Bottom Cutoff
   ============================================ */

/* Multiple layers of protection against bottom cutoff */
html {
  scroll-padding-bottom: 100px;
}

body {
  padding-bottom: 0 !important;
  margin-bottom: 0 !important;
}

/* Ensure main content area has enough space */
.md-main {
  padding-bottom: 100px !important;
}

/* Extra padding for content wrapper */
.md-content {
  padding-bottom: 80px !important;
}

/* Force space before footer */
.md-content::after {
  content: "";
  display: block;
  height: 100px;
  clear: both;
}

/* Make absolutely sure last element is visible */
.md-typeset > *:last-child {
  margin-bottom: 100px !important;
  padding-bottom: 50px !important;
}

/* Footer should never be fixed */
.md-footer,
.md-footer-nav,
.md-footer-meta {
  position: relative !important;
  bottom: auto !important;
}

/* Add visual separator before footer */
.md-footer {
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  margin-top: 80px !important;
}

[data-md-color-scheme="slate"] .md-footer {
  border-top-color: rgba(255, 255, 255, 0.1);
}

/* ============================================
   Responsive Adjustments
   ============================================ */

@media (max-width: 960px) {
  .md-content__inner {
    padding-bottom: 150px !important;
  }
  
  .feature-grid {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 600px) {
  .md-content__inner {
    padding-bottom: 120px !important;
  }
}

/* ============================================
   Final Override for Stubborn Elements
   ============================================ */

/* Use high specificity to ensure these rules apply */
body .md-container .md-main .md-content .md-content__inner {
  min-height: calc(100vh - 200px) !important;
  padding-bottom: 150px !important;
}

/* Absolutely ensure footer stays at bottom */
body > .md-container > .md-footer {
  margin-top: 100px !important;
  clear: both !important;
}